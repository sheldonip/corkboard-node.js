<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <!--<link href='http://fonts.googleapis.com/css?family=The+Girl+Next+Door' rel='stylesheet' type='text/css'>-->
        <link href="/css/reset.css" rel="stylesheet">
        <link href="/css/bootstrap.min.css" rel="stylesheet">
        <link href="/css/bootstrap-theme.min.css" rel="stylesheet">
        <link href="/css/board.css" rel="stylesheet">
        <title>Cork board</title>   
    </head>
    <body>
        <div class="main-wrapper">
        	
            <!-- Fetch each notepaper from notepaper table --> 
			<div class="note-row">
			<div class="note-grid">
			<a id="note-1" class="note note-white">
				<div class="pin"></div>
			</a>
			</div>
			<div class="note-grid">
			<a id="note-2" class="note note-white">
				<div class="pin"></div>
			</a>
			</div>
			<div class="note-grid">
			<a id="note-3" class="note note-white">
				<div class="pin"></div>
			</a>
			</div>
			<div class="note-grid">
			<a id="note-4" class="note note-white">
				<div class="pin"></div>
			</a> 
			</div>
			</div>
			<div class="note-row">
			<div class="note-grid">
			<a id="note-5" class="note note-white">
				<div class="pin"></div>
			</a>
			</div>
			<div class="note-grid">
			<a id="note-6" class="note note-white">
				<div class="pin"></div>
			</a>
			</div>
			<div class="note-grid">
			<a id="note-7" class="note note-white">
				<div class="pin"></div>
			</a>
			</div>
			<div class="note-grid">
			<a id="note-8" class="note note-white">
				<div class="pin"></div>
			</a>
			</div>
            </div>
			<div class="bottom-row">
				<div class="bottom-grid">
					<a id="note-9" class="note note-white">
						<div id='qrcode'>
						</div>
					</a>
				</div>
				<div class="bottom-grid">
					<a id="note-10" class="note note-white">
						
					</a>
				</div>
			</div>
			<!--
            <a class="qr-label">
               	<div class="text">
               		Want to Post ?
               	</div>
               	
        		<div class="text">
               		Scan here ->
               	</div>
				
				<div id='qrcode'>
				</div>
        	</a>
            -->
        </div><!-- End of wrapper -->
        <div>
        	
        </div>
        <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
        <script src="/js/jquery-1.10.2.js"></script>
        <!-- Include all compiled plugins (below), or include individual files as needed -->
        <script src="/js/bootstrap.min.js"></script>
		
		<!-- Socket.io -->
		<script type="text/javascript" src="/socket.io/socket.io.js"></script>
		<!-- Custom js -->
		<script src="/js/corkboard_ws.js"></script>		
		<script src="/js/baseurl.js"></script>
		<script src="/js/qrcode.js"></script>
        <script>
			Corkboard.initialize(base_url);
  	      	
            $( document ).ready(function() {
                $(".album ul li:first-child").animate({opacity: 1.0}, 800);
                $(".album ul li:not(:first-child)").animate({opacity: 0.0}, 800);
                
                //var player = $("#ytplayers-1");
                //player.mute();
                
				// Gallery animation
                setInterval(function() {
					$('.album ul').each(function(){
							var firstLi = $(this).children('li').first().detach(); // Remove the first element
							$(this).append(firstLi); // Add it back to the end
							$(this).children('li:first-child').animate({opacity: 1.0}, 800);
							$(this).children('li:not(:first-child)').animate({opacity: 0.0}, 800);
						}
					);
                }, 3000);

                // Time-sharing messages animation
                setInterval(function() {
					$('.note').each(function(){
						if( $(this).children('.content-container').length > 1){
							var firstMsg = $(this).children('div.content-container').first().detach(); // Remove the first element
							$(this).append(firstMsg); // Add it back to the end	

							var bgcolor = $(this).children('div.content-container').first().attr('bgcolor');
							//console.log("bgcolor: " + bgcolor);
							if(!bgcolor){ bgcolor = '#FFFFFF'; }

												
							$(this).children('div.content-container:nth-child(2)').animate({opacity: 1.0}, 800);
							$(this).css('background-color', bgcolor);
							$(this).children('div.content-container:not(:nth-child(2))').css('opacity', 0.0);
						}
					}
					);
                }, 10000);

				// QR code
				var QRHeight = $('#note-9').height();
				
				new QRCode(document.getElementById("qrcode"), {
					text: base_url+"message/create",
					width: QRHeight,
					height: QRHeight,
					colorDark : "#000000",
					colorLight : "#ffffff",
					correctLevel : QRCode.CorrectLevel.H
				});
				
            });
			
        </script>
    </body>
</html>